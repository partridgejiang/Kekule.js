
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Web Component Wrapper of Widgets &#8212; Kekule Tutorial 2020.2 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Composer Widget" href="composer.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="composer.html" title="Composer Widget"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Kekule Tutorial 2020.2 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="composer.html"
                        title="previous chapter">Composer Widget</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="web-component-wrapper-of-widgets">
<h1>Web Component Wrapper of Widgets<a class="headerlink" href="#web-component-wrapper-of-widgets" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">Web Component</a>. is
a fashion solution to encapsulate custom elements and functions away from
other context of the web applications. In the recent version of Kekule.js, web component technology is
introduced and all widgets can be used in a web component way.</p>
<p>Since web component is introduced in Kekule.js recently and not a part of the default loaded modules,
you need to load the web component module in Kekule.js explicitly in your web application first:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;kekule.js?modules=webComponent&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Yes, only the JavaScript file. Theme stylesheet is not need to be linked in explicitly.
It will be loaded in web component internal context automatically.</p>
<p>Then, the toolkit provides a util function encapsulating a normal Kekule.js into a web component element:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">WebComponent</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">wrapWidget</span><span class="p">(</span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">CheckButton</span><span class="p">,</span> <span class="s1">&#39;kekule-check-button&#39;</span><span class="p">);</span>
<span class="c1">// Create a custom element &lt;kekule-check-button&gt; encapsulating Kekule.Widget.CheckButton</span>
</pre></div>
</div>
<p>Afterwards, that custom element can be used in the web page:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;kekule-check-button&#39;</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">myButton</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">buttonWidget</span> <span class="o">=</span> <span class="nx">myButton</span><span class="p">.</span><span class="nx">widget</span><span class="p">;</span>   <span class="c1">// property widget stores the actual widget object in custom element</span>
<span class="nx">buttonWidget</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s1">&#39;Web Component Button&#39;</span><span class="p">;</span>   <span class="c1">// set a widget property</span>
<span class="nx">buttonWidget</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">);</span> <span class="p">});</span>   <span class="c1">// call a widget method</span>
</pre></div>
</div>
<p>Note the <code class="docutils literal notranslate"><span class="pre">widget</span></code> property of wrapped custom element is pointing the the widget instance, so you can use it
to manipulate the inner widget with ease. By the way, by default, most of the widget properties are also mapped
to the custom element in <code class="docutils literal notranslate"><span class="pre">Kekule.WebComponent.Utils.wrapWidget</span></code>, so you can also get/set property values directly
on the custom element. The following code snippet actually do the same work as the last one:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;kekule-check-button&#39;</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">myButton</span><span class="p">);</span>
<span class="nx">myButton</span><span class="p">.</span><span class="nx">text</span> <span class="o">=</span> <span class="s1">&#39;Web Component Button&#39;</span><span class="p">;</span>   <span class="c1">// same to myButton.widget.text = &#39;Web Component Button&#39;;</span>
<span class="nx">myButton</span><span class="p">.</span><span class="nx">widget</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">);</span> <span class="p">});;</span>   <span class="c1">// but method are not mapped by default</span>
</pre></div>
</div>
<p>Aside from JavaScript code, wrapped custom element can also be used directly in HTML code. The attribute of element
can be used to set the widget properties directly:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">kekule-check-button</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myButton&quot;</span> <span class="na">text</span><span class="o">=</span><span class="s">&quot;Web Component Button&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">kekule-check-button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kd">var</span> <span class="nx">myButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;myButton&#39;</span><span class="p">);</span>
  <span class="nx">myButton</span><span class="p">.</span><span class="nx">widget</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">);</span> <span class="p">});;</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>In the web component module, three often used chemical widgets are already be wrapped：
the Viewer (<code class="docutils literal notranslate"><span class="pre">&lt;kekule-viewer&gt;</span></code>), Composer (<code class="docutils literal notranslate"><span class="pre">&lt;kekule-composer&gt;</span></code>) and PeriodicTable (<code class="docutils literal notranslate"><span class="pre">&lt;kekule-periodic-table&gt;</span></code>).
Users can use those custom elements directly in their HTML codes, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>&lt;kekule-viewer id=&quot;viewer&quot; style=&quot;width:500px;height:500px&quot; chem-obj=&quot;url(molecule.mol)&quot; render-type=&quot;3&quot;&gt;&lt;/kekule-viewer&gt;
&lt;script&gt;
  var viewer = document.getElementById(&#39;viewer).widget;
  viewer.predefinedSetting = &#39;fullFunc&#39;;
&lt;/script&gt;
</pre></div>
</div>
<p>The demo of web component wrapper can be found on
<a class="reference external" href="http://partridgejiang.github.io/Kekule.js/demos/">Kekule.js demo page</a> .</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="composer.html" title="Composer Widget"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Kekule Tutorial 2020.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Partridge Jiang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>